<!-- 2. User should be able to prevent event bubbling using event.stopPropagation() -->

<!-- Note for the author who checks the solution: We can give our solution for the activity 1 and we can ask the 
learners to build on top of it -->

<!-- Activity: -->
<!-- As you have the done the first activity, while doing subacitivity 1.3 before,
(i.e),

 Subactivity 1.3: click on overlay wrapper after opening the modal and observe the sequence in which the logs are printed.
 The behavior would have been that after clicking on the overlay wrapper - the modal is closed.

 Ideally, we want the modal to be closed only when modal inside button is clicked.
 Please, update the code such that it doesn't get closed when overlay or modal content is clicked.
 Make sure, to check all the sequence similar to how we had the subacitivties in activity 1. do all the subactivities of Activity 1
 and check the sequence of logs.make use of style.diplay property for it.

-->

<!-- Note for the author who checks the solution: We can explain the solution, on how the event.stopPropagation() worked while clicking on
 the overlay, the log for body element is not printed, therby stopping it from propagation -->

<!-- Solution code to the above activity: -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Bubbling with Modal - Acitivity - 2</title>
    <style>
      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .modal {
        background: white;
        padding: 20px;
        border-radius: 5px;
        width: 300px;
        text-align: center;
      }
    </style>
  </head>
  <body id="body">
    <button id="open-modal-btn">Open Modal</button>

    <div id="modal-overlay" class="overlay" style="display: none">
      <div id="modal-content" class="modal">
        <h3>Modal Content</h3>
        <button id="btn-inside-modal">Click Inside Modal</button>
      </div>
    </div>

    <script>
      const body = document.getElementById("body");
      const overlay = document.getElementById("modal-overlay");
      const modalContent = document.getElementById("modal-content");
      const openModalButton = document.getElementById("open-modal-btn");
      const insideButton = document.getElementById("btn-inside-modal");

      // By default, while adding event listeners, they are in event bubbling phase

      body.addEventListener("click", () => {
        console.log("Body clicked");
      });

      openModalButton.addEventListener("click", () => {
        console.log("Open modal button clicked");
        overlay.style.display = "flex";
      });

      overlay.addEventListener("click", (event) => {
        // event.stopPropagation() stops the propagation of event
        event.stopPropagation();
        console.log("Overlay clicked");
      });

      modalContent.addEventListener("click", () => {
        console.log("Modal content clicked");
      });

      insideButton.addEventListener("click", () => {
        console.log("Button inside modal clicked");
        // Hiding the overlay only when button inside modal is clicked.
        overlay.style.display = "none";
      });
    </script>
  </body>
</html>
